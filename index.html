<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Counting Down to You ‚ù§Ô∏è</title>
    <style>
        /* --- 1. FONTS & RESET --- */
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@300;400;600&display=swap');

        :root {
            --primary: #ff9a9e;
            --accent: #a18cd1;
            --glass: rgba(255, 255, 255, 0.9);
            --cake-color: #fbc2eb;
            --icing-color: #fff;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%);
            min-height: 100vh;
            color: #444;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            align-items: center; 
        }

        /* Standard Container */
        .container { width: 100%; max-width: 1000px; padding: 20px; text-align: center; position: relative; z-index: 2; }
        
        /* Utility Classes */
        .hidden { display: none !important; }
        .fade-in { animation: fadeIn 1s ease forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* BUTTONS */
        .magic-btn {
            background: white; color: var(--accent); border: none; padding: 12px 30px;
            border-radius: 50px; font-weight: bold; cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2); transition: 0.3s; margin-top: 20px; position: relative; z-index: 10;
        }
        .magic-btn:hover { transform: scale(1.1); }

        /* --- STAGE 1: INTRO --- */
        #stage-intro {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: gray
        }
        .pickup-line { font-family: 'Dancing Script'; font-size: 2.5rem; color: gray; text-shadow: 1px 1px 3px rgba(0,0,0,0.2); margin-bottom: 20px; }

        /* --- STAGE 2: JOURNEY --- */
        #stage-journey {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative; 
            overflow: hidden; 
        }

        #effects-canvas {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0;
        }

        .countdown-grid { display: flex; justify-content: center; gap: 15px; margin: 30px 0; }
        .time-box { background: var(--glass); padding: 15px; border-radius: 12px; min-width: 80px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .time-box span { font-size: 1.8rem; font-weight: bold; color: var(--accent); display: block; }
        .time-box small { font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; }

        /* Floating Happy Birthday Text */
        #hb-message-container { margin-top: 20px; min-height: 60px; }
        .floating-hb {
            font-family: 'Dancing Script', cursive; font-size: 3rem; color: #fff;
            text-shadow: 0 2px 5px rgba(0,0,0,0.2); display: flex; justify-content: center; gap: 10px;
        }
        .floating-hb span { display: inline-block; animation: wave 1.5s infinite ease-in-out; }
        .floating-hb span:nth-child(odd) { animation-delay: 0s; color: #ff9a9e; }
        .floating-hb span:nth-child(even) { animation-delay: 0.2s; color: #fff; }
        @keyframes wave { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

        /* Timeline */
        .timeline-wrapper { position: relative; height: 120px; margin: 50px auto; width: 90%; max-width: 800px; z-index: 2; }
        .road { width: 100%; height: 6px; background: rgba(255,255,255,0.6); position: absolute; top: 60px; border-radius: 3px; }
        .milestone { position: absolute; top: 20px; font-weight: bold; color: #fff; font-size: 0.9rem; }
        .start-date { left: 0; }
        .end-date { right: 0; }
        
        .fairy { position: absolute; top: 10px; left: 0; font-size: 3rem; transform: translateX(-50%); transition: left 1s linear; z-index: 10; filter: drop-shadow(0 5px 5px rgba(0,0,0,0.2)); }
        .current-date-badge { 
            position: absolute; top: 80px; left: 0; transform: translateX(-50%);
            background: #fff; padding: 4px 12px; border-radius: 15px; 
            font-size: 0.85rem; font-weight: bold; color: var(--accent);
            white-space: nowrap; transition: left 1s linear; box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* --- CAROUSEL --- */
        .carousel-outer { width: 100vw; position: relative; margin: 40px 0; padding: 20px 0; overflow: hidden; z-index: 2; }
        .carousel-track { display: flex; transition: transform 0.5s ease-in-out; padding-left: 50px; }
        .carousel-item {
            flex: 0 0 300px; height: 400px; margin-right: 30px; border-radius: 20px;
            overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.15); transition: transform 0.3s;
            position: relative; background: rgba(255,255,255,0.5); display: flex; justify-content: center; align-items: center;
        }
        .carousel-item img { width: 100%; height: 100%; object-fit: cover; }
        .carousel-item:hover { transform: translateY(-10px); }

        .nav-btn {
            position: absolute; top: 50%; transform: translateY(-50%);
            background: white; border: none; width: 50px; height: 50px; border-radius: 50%;
            cursor: pointer; font-weight: bold; color: var(--accent); 
            box-shadow: 0 4px 15px rgba(0,0,0,0.3); z-index: 20;
            font-size: 1.2rem; transition: 0.3s;
        }
        .nav-btn:hover { background: var(--primary); color: white; }
        .prev-btn { left: 30px; }
        .next-btn { right: 30px; }

        /* --- STAGE 3: REASONS --- */
        #stage-reasons { height: 100vh; display: flex; justify-content: center; align-items: center; }
        .reason-card { background: var(--glass); padding: 50px; border-radius: 30px; box-shadow: 0 15px 50px rgba(0,0,0,0.2); width: 90%; max-width: 500px; }
        .reason-title { font-family: 'Dancing Script'; font-size: 2.5rem; color: #ff9a9e; margin-bottom: 20px; }
        .reason-text { font-size: 1.3rem; min-height: 80px; line-height: 1.6; }

        /* --- STAGE 4: FINAL --- */
        #stage-final {
            height: 100vh; width: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center;
            position: relative; overflow: hidden; 
        }
        #stage-final h1 { 
            font-family: 'Dancing Script'; font-size: 3rem; color: #d63384; 
            margin-bottom: 10px; text-align: center; z-index: 2; padding: 0 20px;
        }
        
        .floating-photo { 
            position: absolute; width: 150px; border: 6px solid white; border-radius: 15px; 
            box-shadow: 0 15px 30px rgba(0,0,0,0.2); animation: float 6s infinite ease-in-out; z-index: 1; 
        }
        @keyframes float { 0%,100%{transform:translateY(0) rotate(-5deg);} 50%{transform:translateY(-20px) rotate(5deg);} }

        /* --- THE CAKE --- */
        .cake-container {
            position: relative; margin-top: 30px; cursor: pointer; z-index: 10;
            transition: transform 0.2s;
        }
        .cake-container:hover { transform: scale(1.05); }
        
        .click-me-label {
            position: absolute; top: -40px; left: 50%; transform: translateX(-50%);
            background: white; padding: 5px 15px; border-radius: 20px;
            font-size: 0.9rem; font-weight: bold; color: var(--accent);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1); white-space: nowrap;
            animation: bounce 1s infinite;
        }
        @keyframes bounce { 0%, 100% { transform: translate(-50%, 0); } 50% { transform: translate(-50%, -10px); } }

        .cake {
            width: 200px; height: 120px; background: var(--cake-color);
            border-radius: 10px 10px 5px 5px; position: relative;
            box-shadow: 0 10px 0 #e0a3d0, 0 20px 20px rgba(0,0,0,0.2);
        }
        /* Icing drip */
        .cake::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 30px;
            background: var(--icing-color); border-radius: 10px 10px 50% 50%;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        /* Candle 25 */
        .candle-25 {
            position: absolute; top: -50px; left: 50%; transform: translateX(-50%);
            font-family: 'Dancing Script', cursive; font-size: 3rem; color: #ff6f61;
            font-weight: bold; text-shadow: 2px 2px 0px rgba(0,0,0,0.1);
        }
        /* Flame */
        .flame {
            position: absolute; top: -15px; left: 50%; transform: translateX(-50%);
            width: 15px; height: 15px; background: orange; border-radius: 50% 50% 20% 20%;
            box-shadow: 0 0 10px orange, 0 0 20px yellow;
            animation: flicker 0.5s infinite alternate;
        }
        @keyframes flicker { from { opacity: 0.8; transform: translateX(-50%) scale(1); } to { opacity: 1; transform: translateX(-50%) scale(1.1); } }

        /* Balloons */
        .balloon {
            display: inline-block; width: 100px; height: 125px;
            background: var(--balloon-color); border-radius: 80% 80% 60% 60%;
            position: absolute; box-shadow: inset -10px -10px 20px -5px rgba(0,0,0,0.1);
            animation: balloonFloat 10s infinite ease-in; z-index: 0; bottom: -150px;
        }
        .balloon::after {
            content: ''; position: absolute; top: 20%; left: 20%; width: 20px; height: 35px;
            border-radius: 50%; background: radial-gradient(circle, rgba(255,255,255,0.8), rgba(255,255,255,0.1));
            transform: rotate(30deg);
        }
        .balloon::before {
            content: ''; position: absolute; bottom: -20px; left: 50%; transform: translateX(-50%);
            width: 2px; height: 100px; background: rgba(255,255,255,0.6);
        }
        .balloon-knot {
            position: absolute; bottom: -5px; left: 50%; transform: translateX(-50%);
            width: 10px; height: 8px; background: inherit; border-radius: 0 0 5px 5px;
        }
        @keyframes balloonFloat {
            0% { bottom: -150px; transform: translateX(0) rotate(0); }
            50% { transform: translateX(20px) rotate(5deg); }
            100% { bottom: 120vh; transform: translateX(-20px) rotate(-5deg); }
        }

        /* Heart Rain */
        .heart-drop { position: absolute; top: -20px; color: #ff9a9e; font-size: 1.5rem; animation: fall linear forwards; z-index: 0; }
        @keyframes fall { to { transform: translateY(110vh); } }

        /* --- POPUP MODAL --- */
        #modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); z-index: 1000;
            display: flex; justify-content: center; align-items: center;
            backdrop-filter: blur(5px);
        }
        .modal-box {
            background: white; padding: 40px; border-radius: 25px; max-width: 400px; width: 90%;
            text-align: center; animation: popUp 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        @keyframes popUp { from {transform: scale(0.5); opacity: 0;} to {transform: scale(1); opacity: 1;} }

        @media (max-width: 600px) {
            .carousel-item { flex: 0 0 80vw; height: 350px; margin-right: 15px; }
            .nav-btn { width: 40px; height: 40px; }
            .prev-btn { left: 10px; }
            .next-btn { right: 10px; }
            .carousel-track { padding-left: 10vw; }
            #stage-final h1 { font-size: 2.5rem; }
            .pickup-line { font-size: 2rem; }
            .floating-hb { font-size: 2rem; }
        }
    </style>
</head>
<body>

    <div id="stage-intro" class="fade-in">
        <div class="pickup-line" id="random-line">Loading love...</div>
        <button class="magic-btn" onclick="goToStage2()">Enter World ‚ú®</button>
    </div>

    <div id="stage-journey" class="hidden">
        <canvas id="effects-canvas"></canvas> 
        <div id="heart-container"></div>

        <div class="container">
            <h1 style="color:white; font-family:'Dancing Script'; font-size: 3rem;">Road to 25</h1>
            
            <div id="timer-container" class="countdown-grid">
                <div class="time-box"><span id="d">0</span><small>Days</small></div>
                <div class="time-box"><span id="h">0</span><small>Hours</small></div>
                <div class="time-box"><span id="m">0</span><small>Mins</small></div>
                <div class="time-box"><span id="s">0</span><small>Secs</small></div>
            </div>

            <div id="hb-message-container" class="hidden">
                <div class="floating-hb">
                    <span>H</span><span>a</span><span>p</span><span>p</span><span>y</span>&nbsp;
                    <span>B</span><span>i</span><span>r</span><span>t</span><span>h</span><span>d</span><span>a</span><span>y</span>
                </div>
            </div>

            <div class="timeline-wrapper">
                <div class="milestone start-date">Jan 1</div>
                <div class="road"></div>
                <div class="fairy" id="fairy">üßö‚Äç‚ôÄÔ∏è</div>
                <div class="current-date-badge" id="fairy-date">Jan 7</div>
                <div class="milestone end-date">Jan 16</div>
            </div>
        </div>

        <div class="carousel-outer">
            <button class="nav-btn prev-btn" onclick="moveSlide(-1)">&#10094;</button>
            <div class="carousel-track" id="track">
                <div class="carousel-item"><img src="Images/IMG_4707.jpeg" alt="Memory" onerror="this.src='https://via.placeholder.com/300x400?text=Add+Image'"></div>
                <div class="carousel-item"><img src="Images/IMG_6125.jpeg" alt="Memory" onerror="this.src='https://via.placeholder.com/300x400?text=Add+Image'"></div>
                <div class="carousel-item"><img src="Images/IMG_6174.jpeg" alt="Memory" onerror="this.src='https://via.placeholder.com/300x400?text=Add+Image'"></div>
                <div class="carousel-item"><img src="Images/IMG_6208.jpeg" alt="Memory" onerror="this.src='https://via.placeholder.com/300x400?text=Add+Image'"></div>
                <div class="carousel-item"><img src="Images/IMG_6230.jpeg" alt="Memory" onerror="this.src='https://via.placeholder.com/300x400?text=Add+Image'"></div>
                <div class="carousel-item"><img src="Images/IMG_6252.jpeg" alt="Memory" onerror="this.src='https://via.placeholder.com/300x400?text=Add+Image'"></div>
            </div>
            <button class="nav-btn next-btn" onclick="moveSlide(1)">&#10095;</button>
        </div>

        <button class="magic-btn" onclick="goToStage3()" style="margin-bottom: 50px;">Unlock Your Gift üíñ</button>
    </div>

    <div id="stage-reasons" class="hidden">
        <div class="reason-card">
            <div style="font-size:3rem; margin-bottom:10px;">üíå</div>
            <h2 class="reason-title" id="r-title">Reason #1</h2>
            <p class="reason-text" id="r-text">Because you are the best thing that ever happened to me.</p>
            <button class="magic-btn" onclick="nextReason()">Next üëâ</button>
        </div>
    </div>

    <div id="stage-final" class="hidden">
        <h1>Happy Birthday üë∏üéà</h1>
        <p style="color:gray; font-size:1.5rem; text-shadow: 1px 1px 2px rgba(0,0,0,0.2); z-index:2; margin-bottom: 20px;">You are the most amazing baddie. Just Click the Cake!!</p>
        <br>
        <br>
        <br>
        
        <div class="cake-container" onclick="showCallMsg()">
            
            <div class="candle-25">25<div class="flame"></div></div>
            <div class="cake"></div>
        </div>

        <img src="https://picsum.photos/300/400?random=10" class="floating-photo" style="top:15%; left:10%;">
        <img src="https://picsum.photos/300/400?random=11" class="floating-photo" style="top:25%; right:10%;">
        <img src="https://picsum.photos/300/400?random=12" class="floating-photo" style="bottom:15%; left:15%;">
        
        <div id="balloon-container"></div>
    </div>

    <div id="modal-overlay" class="hidden">
        <div class="modal-box">
            <h2 id="modal-title" style="color:#ff9a9e; font-size: 2rem;">Not Yet! ü§´</h2>
            <p id="wait-msg" style="margin: 20px 0; color:#666; font-size: 1.1rem; line-height:1.5;">...</p>
            <button class="magic-btn" onclick="closeModal()">Okay üòá</button>
        </div>
    </div>

    <script>
        // --- CONFIG ---
        const birthdayDate = new Date("Jan 16, 2026 00:00:00").getTime();
        const startDate = new Date("Jan 1, 2026 00:00:00").getTime();
        
        let heartInterval;
        let fireworksInterval;
        
        // --- DATA ---
        const pickupLines = [
            "Are you a camera? Every time I look at you, I smile.",
            "Do you have a Band-Aid? I just scraped my knee falling for you.",
            "If you were a fruit, you'd be a fine-apple.",
            "Are you a magician? Because abracadabra, you're beautiful."
        ];
        const waitLines = [
            "Good things come to those who wait! üòâ",
            "Patience is bitter, but its fruit is sweet (like you).",
            "Not yet! The magic needs a little more time.",
            "Hold your horses, birthday girl! üê¥"
        ];
        const reasons = [
            "Because your smile lights up my darkest days.", 
            "Because you have the kindest heart I know.",   
            "Because you make me laugh when I want to cry.",
            "Because you are simply my everything."         
        ];

        // Init Intro
        document.getElementById('random-line').innerText = pickupLines[Math.floor(Math.random() * pickupLines.length)];

        // --- NAVIGATION ---
        function goToStage2() {
            document.getElementById('stage-intro').classList.add('hidden');
            document.getElementById('stage-journey').classList.remove('hidden');
            document.getElementById('stage-journey').classList.add('fade-in');
            startTimer();
            manageBackgroundEffects();
        }

        function goToStage3() {
            document.getElementById('stage-journey').classList.add('hidden');
            stopEffects(); 
            document.getElementById('stage-reasons').classList.remove('hidden');
            document.getElementById('stage-reasons').classList.add('fade-in');
        }

        function closeModal() {
            document.getElementById('modal-overlay').classList.add('hidden');
            // If we are in stage 4 (Cake Click), we don't reload.
            // If we are in stage 3 (Wait message), user likely wants to stay.
        }

        function goHome() {
            window.location.reload();
        }

        // --- REASONS LOGIC ---
        let reasonIdx = 0;
        function nextReason() {
            reasonIdx++;
            if(reasonIdx < reasons.length) {
                document.getElementById('r-title').innerText = "Reason #" + (reasonIdx + 1);
                document.getElementById('r-text').innerText = reasons[reasonIdx];
            } else {
                checkBirthdayAccess();
            }
        }

        function checkBirthdayAccess() {
            const now = new Date().getTime();
            if (now >= birthdayDate) {
                document.getElementById('stage-reasons').classList.add('hidden');
                document.getElementById('stage-final').classList.remove('hidden');
                document.getElementById('stage-final').classList.add('fade-in');
                createRealisticBalloons();
            } else {
                const randomWait = waitLines[Math.floor(Math.random() * waitLines.length)];
                document.getElementById('modal-title').innerText = "Not Yet! ü§´";
                document.getElementById('wait-msg').innerText = randomWait;
                document.getElementById('modal-overlay').classList.remove('hidden');
                // Change button action to just close for this modal interaction
                document.querySelector('#modal-overlay button').setAttribute('onclick', 'goHome()');
            }
        }

        // --- CAKE INTERACTION ---
        function showCallMsg() {
            document.getElementById('modal-title').innerText = "ACTION REQUIRED! üö®";
            document.getElementById('wait-msg').innerHTML = "Call your BF immediately!<br>üìûüíñ";
            document.getElementById('modal-overlay').classList.remove('hidden');
            document.querySelector('#modal-overlay button').setAttribute('onclick', 'closeModal()');
        }

        // --- EFFECT MANAGEMENT ---
        function manageBackgroundEffects() {
            const now = new Date().getTime();
            if (now >= birthdayDate) {
                startFireworks();
            } else {
                startHeartRain();
            }
        }

        function stopEffects() {
            clearInterval(fireworksInterval);
            clearInterval(heartInterval);
            const canvas = document.getElementById('effects-canvas');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            document.getElementById('heart-container').innerHTML = '';
        }

        // --- HEART RAIN LOGIC ---
        function startHeartRain() {
            const container = document.getElementById('heart-container');
            heartInterval = setInterval(() => {
                const heart = document.createElement('div');
                heart.classList.add('heart-drop');
                heart.innerText = '‚ù§Ô∏è';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.animationDuration = Math.random() * 2 + 3 + 's';
                heart.style.opacity = Math.random();
                container.appendChild(heart);
                setTimeout(() => { heart.remove(); }, 5000);
            }, 300);
        }

        // --- FIREWORKS LOGIC ---
        function startFireworks() {
            const canvas = document.getElementById('effects-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            const particles = [];
            
            function createParticle(x, y) {
                const particleCount = 30;
                for (let i = 0; i < particleCount; i++) {
                    particles.push({
                        x: x, y: y, color: `hsl(${Math.random() * 360}, 100%, 50%)`,
                        radius: Math.random() * 3 + 1,
                        velocity: { x: (Math.random() - 0.5) * 6, y: (Math.random() - 0.5) * 6 },
                        alpha: 1
                    });
                }
            }

            function animate() {
                if(document.getElementById('stage-journey').classList.contains('hidden')) return;
                ctx.globalCompositeOperation = 'destination-out';
                ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.globalCompositeOperation = 'lighter';
                particles.forEach((p, index) => {
                    p.velocity.y += 0.05; p.x += p.velocity.x; p.y += p.velocity.y; p.alpha -= 0.02;
                    ctx.beginPath(); ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                    ctx.fillStyle = p.color; ctx.globalAlpha = p.alpha; ctx.fill();
                    if (p.alpha <= 0) particles.splice(index, 1);
                });
                requestAnimationFrame(animate);
            }
            fireworksInterval = setInterval(() => {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height / 2;
                createParticle(x, y);
            }, 800);
            animate();
        }

        // --- REALISTIC BALLOON LOGIC ---
        function createRealisticBalloons() {
            const container = document.getElementById('balloon-container');
            const colors = ['#ff9a9e', '#a18cd1', '#fad0c4', '#fbc2eb', '#84fab0', '#ff6f61'];
            
            for(let i=0; i<30; i++) {
                const balloon = document.createElement('div');
                balloon.classList.add('balloon');
                const knot = document.createElement('div');
                knot.classList.add('balloon-knot');
                balloon.appendChild(knot);
                
                const bg = colors[Math.floor(Math.random() * colors.length)];
                const left = Math.floor(Math.random() * 100) + '%';
                const duration = Math.floor(Math.random() * 8) + 8 + 's';
                const delay = Math.floor(Math.random() * 10) + 's';
                const scale = (Math.random() * 0.5 + 0.8);
                
                balloon.style.setProperty('--balloon-color', bg);
                balloon.style.left = left;
                balloon.style.animationDuration = duration;
                balloon.style.animationDelay = delay;
                balloon.style.transform = `scale(${scale})`;
                container.appendChild(balloon);
            }
        }

        // --- CAROUSEL LOGIC ---
        let slideIndex = 0;
        function moveSlide(direction) {
            const track = document.getElementById('track');
            const items = document.querySelectorAll('.carousel-item');
            const totalSlides = items.length;
            const itemStyle = window.getComputedStyle(items[0]);
            const itemWidth = items[0].offsetWidth + parseInt(itemStyle.marginRight);

            slideIndex += direction;
            if(slideIndex < 0) slideIndex = totalSlides - 1;
            if(slideIndex >= totalSlides) slideIndex = 0;
            const moveAmount = slideIndex * itemWidth;
            track.style.transform = `translateX(-${moveAmount}px)`;
        }

        // --- TIMER ---
        function startTimer() {
            const timerInterval = setInterval(() => {
                const now = new Date().getTime();
                const distance = birthdayDate - now;

                if (distance > 0) {
                    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                    document.getElementById("d").innerText = days;
                    document.getElementById("h").innerText = hours;
                    document.getElementById("m").innerText = minutes;
                    document.getElementById("s").innerText = seconds;
                } else {
                    clearInterval(timerInterval);
                    document.getElementById("d").innerText = 0;
                    document.getElementById("h").innerText = 0;
                    document.getElementById("m").innerText = 0;
                    document.getElementById("s").innerText = 0;
                    document.getElementById("hb-message-container").classList.remove("hidden");
                    stopEffects(); startFireworks();
                }

                // Fairy
                const totalDuration = birthdayDate - startDate;
                const timeElapsed = now - startDate;
                let percent = (timeElapsed / totalDuration) * 100;
                if (percent < 0) percent = 0; if (percent > 100) percent = 100;
                document.getElementById("fairy").style.left = percent + "%";
                document.getElementById("fairy-date").style.left = percent + "%";
                const dateObj = new Date();
                const month = dateObj.toLocaleString('default', { month: 'short' });
                const day = dateObj.getDate();
                document.getElementById("fairy-date").innerText = `${month} ${day}`;
            }, 1000);
        }
    </script>
</body>
</html>
